<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
      <!-- 9AM Timeblock -->
      <div class = "time-block row">
        <div class = "col-sm-1 hour">
            9AM
        </div>
        <textarea class = "col-sm-10" id="block-9">

        </textarea>
        <button class = "col-sm-1 saveBtn" data-block="9">
          save
        </button>
    </div>

    <!-- 10AM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          10AM
      </div>
      <textarea class = "col-sm-10" id="block-10">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="10">
        save
      </button>
  </div>

    <!-- 11AM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          11AM
      </div>
      <textarea class = "col-sm-10" id="block-11">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="11">
        save
      </button>
    </div>

    <!-- 12PM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          12PM
      </div>
      <textarea class = "col-sm-10" id="12">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="12">
        save
      </button>
    </div>

    <!-- 1PM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          1PM
      </div>
      <textarea class = "col-sm-10" id="block-1">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="1">
        save
      </button>
    </div>

    <!-- 2PM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          2PM
      </div>
      <textarea class = "col-sm-10" id="block-2">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="2">
        save
      </button>
    </div>

    <!-- 3PM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          3PM
      </div>
      <textarea class = "col-sm-10" id = "block-3">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="3">
        save
      </button>
    </div>

    <!-- 4PM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          4PM
      </div>
      <textarea class = "col-sm-10" id = "block-4">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="4">
        save
      </button>
    </div>

    <!-- 5PM Timeblock -->
    <div class = "time-block row">
      <div class = "col-sm-1 hour">
          5PM
      </div>
      <textarea class = "col-sm-10" id ="block-5">

      </textarea>
      <button class = "col-sm-1 saveBtn" data-block="5">
        save
      </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

    <script type="text/javascript">


    const time = document.getElementById("currentDay");

    setInterval(() => {
      const now = moment();
      const humanReadable = now.format('MMMM Do YYYY, h:mm:ss a');

      time.textContent = humanReadable;
    }, 1000)

    timeUpdate ();
    function timeUpdate(now) {
    var beginningTime = moment("9:00:00 am", "h:mm:ss a");
    var endingTime = moment("5:00:00 pm", "h:mm:ss a");
    if (moment(beginningTime).isBefore(now)){
        $("textarea").addClass("past");
    }
  
    else if (moment(endingTime).isAfter(now)){
        $("textarea").addClass("future");
    }
    else {
        $("textarea").addClass("present");
    }
    }

    localStorage.getItem("block9");
   localStorage.getItem("block10");
   localStorage.getItem("block11");
   localStorage.getItem("block12");
   localStorage.getItem("block1");
   localStorage.getItem("block2");
   localStorage.getItem("block3");
   localStorage.getItem("block4");
   localStorage.getItem("block5");
 
  $("#block-9").val(localStorage.getItem("block9"));
  $("#block-10").val(localStorage.getItem("block10"));
  $("#block-11").val(localStorage.getItem("block11"));
  $("#block-12").val(localStorage.getItem("block12"));
  $("#block-1").val(localStorage.getItem("block1"));
  $("#block-2").val(localStorage.getItem("block2"));
  $("#block-3").val(localStorage.getItem("block3"));
  $("#block-4").val(localStorage.getItem("block4"));
  $("#block-5").val(localStorage.getItem("block5"));
    
    $("button").on('click', function (event) {
        event.preventDefault();
        block9 = $("#block-9").val();
        block10 = $("#block-10").val();
        block11 = $("#block-11").val();
        block12 = $("#block-12").val();
        block1 = $("#block-1").val();
        block2 = $("#block-2").val();
        block3 = $("#block-3").val();
        block4 = $("#block-4").val();
        block5 = $("#block-5").val();

        localStorage.setItem("block9", block9);
        localStorage.setItem("block10", block10);
        localStorage.setItem("block11", block11);
        localStorage.setItem("block12", block12);
        localStorage.setItem("block1", block1);
        localStorage.setItem("block2", block2);
        localStorage.setItem("block3", block3);
        localStorage.setItem("block4", block4);
        localStorage.setItem("block5", block5);
});



    </script>
  </body>
</html>
